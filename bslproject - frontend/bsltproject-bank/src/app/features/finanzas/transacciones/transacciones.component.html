<div class="transacciones-container">
  <!-- Header -->
  <mat-card class="header-card">
    <mat-card-header>
      <mat-card-title>Gestión de Transacciones</mat-card-title>
      <button mat-raised-button color="primary" (click)="abrirDialogoTransaccion()">
        <mat-icon>add</mat-icon>
        Nueva Transacción
      </button>
    </mat-card-header>
  </mat-card>

  <!-- Transaction List -->
  <ng-container *ngIf="error; else noError">
    <div class="error-container">
      <mat-icon color="warn">error</mat-icon>
      <p>{{ error }}</p>
      <button mat-button color="primary" (click)="cargarTransacciones()">
        <mat-icon>refresh</mat-icon>
        Reintentar
      </button>
    </div>
  </ng-container>
  <ng-template #noError>
    <app-transaccion-list 
      [transacciones]="transacciones"
      (onTransaccionCreated)="cargarTransacciones()"
      (onTransaccionUpdated)="cargarTransacciones()">
    </app-transaccion-list>
  </ng-template>

  <!-- Transaction Dialog -->
  <app-transaccion-dialog 
    #transaccionDialog
    (transaccionCreated)="onTransaccionCreated($event)"
    (transaccionUpdated)="onTransaccionUpdated($event)">
  </app-transaccion-dialog>
</div>
