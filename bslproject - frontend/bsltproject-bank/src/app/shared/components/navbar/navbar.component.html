<mat-toolbar class="navbar">
  <div class="navbar-brand">
    <a class="brand-logo" routerLink="/">
      <div class="logo-container">
        <mat-icon>account_balance</mat-icon>
      </div>
      <h1>BSLTBank</h1>
    </a>
  </div>

  <span class="spacer"></span>

  <div class="navbar-end">
    <ng-container *ngIf="isAuthenticated">
      <button mat-icon-button class="notification-btn" [matBadge]="3" matBadgeSize="small">
        <mat-icon>notifications</mat-icon>
      </button>

      <div class="user-menu">
        <button mat-button class="user-btn" [matMenuTriggerFor]="userMenu">
          <div class="user-avatar">{{ userInitials }}</div>
          <p class="user-name">{{ userName }}</p>
          <mat-icon>arrow_drop_down</mat-icon>
        </button>

        <mat-menu #userMenu="matMenu" class="user-dropdown" xPosition="before">
          <div class="menu-header">
            <div class="user-info">
              <div class="user-avatar large">{{ userInitials }}</div>
              <div class="user-details">
                <h3>{{ userName }}</h3>
                <p>Usuario</p>
              </div>
            </div>
          </div>

          <mat-divider></mat-divider>

          <button mat-menu-item routerLink="/profile">
            <mat-icon>person</mat-icon>
            <span>Mi Perfil</span>
          </button>

          <button mat-menu-item routerLink="/settings">
            <mat-icon>settings</mat-icon>
            <span>Configuración</span>
          </button>

          <mat-divider></mat-divider>

          <button mat-menu-item (click)="logout()" class="logout-btn">
            <mat-icon>exit_to_app</mat-icon>
            <span>Cerrar Sesión</span>
          </button>
        </mat-menu>
      </div>
    </ng-container>

    <button *ngIf="!isAuthenticated" mat-flat-button color="accent" class="login-btn" routerLink="/auth/login">
      <mat-icon>login</mat-icon>
      <span>Iniciar Sesión</span>
    </button>
  </div>
</mat-toolbar>
